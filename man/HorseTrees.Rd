% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/HorseTrees.R
\name{HorseTrees}
\alias{HorseTrees}
\title{Horseshoe Prior Bayesian Tree Model (HorseTrees)}
\usage{
HorseTrees(
  y,
  X_train,
  X_test = NULL,
  status = NULL,
  outcome_type = "continuous",
  timescale = "time",
  number_of_trees = 200,
  k = 0.1,
  power = 2,
  base = 0.95,
  p_grow = 0.4,
  p_prune = 0.4,
  nu = 3,
  q = 0.9,
  sigma = NULL,
  N_post = 1000,
  N_burn = 1000,
  delayed_proposal = 5,
  store_posterior_sample = TRUE,
  seed = NULL,
  verbose = TRUE
)
}
\arguments{
\item{y}{Outcome vector. Numeric. Can represent continuous outcomes, binary outcomes (0/1), or follow-up times for survival data.}

\item{X_train}{Covariate matrix for training. Each row corresponds to an observation, and each column to a covariate.}

\item{X_test}{Optional covariate matrix for test data. If NULL, defaults to the mean of the training covariates.}

\item{status}{Optional censoring indicator vector (1 = event occurred, 0 = censored). Required if \code{outcome_type = "right-censored"}.}

\item{outcome_type}{Type of outcome. One of \code{"continuous"}, \code{"binary"}, or \code{"right-censored"}.}

\item{timescale}{Indicates the scale of follow-up times. Options are \code{"time"} (nonnegative follow-up times, will be log-transformed internally)
or \code{"log"} (already log-transformed). Only used when \code{outcome_type = "right-censored"}.}

\item{number_of_trees}{Number of trees in the ensemble. Default is 200.}

\item{k}{Horseshoe hyperparameter (default 0.1).}

\item{power}{Power parameter for tree structure prior. Default is 2.0.}

\item{base}{Base parameter for tree structure prior. Default is 0.95.}

\item{p_grow}{Probability of proposing a grow move. Default is 0.4.}

\item{p_prune}{Probability of proposing a prune move. Default is 0.4.}

\item{nu}{Degrees of freedom for the error distribution prior. Default is 3.}

\item{q}{Quantile hyperparameter for the error variance prior. Default is 0.90.}

\item{sigma}{Optional known value for error standard deviation. If NULL, estimated from data.}

\item{N_post}{Number of posterior samples to store. Default is 1000.}

\item{N_burn}{Number of burn-in iterations. Default is 1000.}

\item{delayed_proposal}{Number of delayed iterations before proposal. Only for reversible updates. Default is 5.}

\item{store_posterior_sample}{Logical; whether to store posterior samples for each iteration. Default is TRUE.}

\item{seed}{Random seed for reproducibility. Default uses system time.}

\item{verbose}{Logical; whether to print verbose output. Default is TRUE.}
}
\value{
A list containing fitted object with posterior mean predictions, test predictions (if provided), and optionally stored posterior samples.
}
\description{
Fits a Bayesian Horseshoe Trees model.
Supports continuous, binary, and right-censored (survival) outcomes.
}
\details{
For continuous outcomes, the model centers and optionally standardizes the outcome using a prior guess of the standard deviation.
For binary outcomes, the function uses a probit link formulation.
For right-censored outcomes (survival data), the function can handle follow-up times either on the original time scale or log-transformed.
}
\examples{
# Example usage with continuous outcome
set.seed(1)
X <- matrix(rnorm(100 * 5), ncol = 5)
y <- X[,1] + rnorm(100)
fit <- HorseTrees(y, X, outcome_type = "continuous")

# Example usage with binary outcome
y_bin <- ifelse(X[,1] + rnorm(100) > 0, 1, 0)
fit_bin <- HorseTrees(y_bin, X, outcome_type = "binary", verbose = FALSE)

# Example usage with right-censored outcome (survival data)
library(survival)
time <- rexp(100, rate = 0.1)
status <- rbinom(100, 1, 0.7)
fit_surv <- HorseTrees(time, X, status = status, 
                       outcome_type = "right-censored", timescale = "time", 
                       verbose = FALSE)

}
